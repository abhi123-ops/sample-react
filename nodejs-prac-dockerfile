FROM node:25-alpine AS build
ADD . /nodejs-app
WORKDIR /nodejs-app
RUN npm install && \
    npm run build
FROM nginx:1-alpine AS running
LABEL project="nodejs-project"
COPY --from build /nodejs-app/build /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]